# üé® –ó–∞–ø—É—Å–∫ —Å –ø–æ—Ä—Ç—Ä–µ—Ç–∞–º–∏ NPC - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ?

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ **–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ä—Ç—Ä–µ—Ç—ã –¥–ª—è NPC** —á–µ—Ä–µ–∑ OpenAI DALL-E 3! üñºÔ∏è

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å?

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```powershell
cd dnd-genlab-assistant
npx prisma migrate dev --name add_npc_image_url
npx prisma generate
```

**–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç,** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä—É—á–Ω–æ–π –º–µ—Ç–æ–¥:

1. –û—Ç–∫—Ä–æ–π—Ç–µ `prisma/dev.db` –≤ SQLite —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `ALTER TABLE NPC ADD COLUMN imageUrl TEXT;`
3. –ó–∞—Ç–µ–º: `npx prisma generate`

---

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```powershell
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000

---

## üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ NPC –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç
- –í–∫–ª–∞–¥–∫–∞ **"NPC"**
- –ù–∞–∂–º–∏—Ç–µ **"‚úèÔ∏è"** –Ω–∞ –ª—é–±–æ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–µ

### 2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–Ω–µ—à–Ω–æ—Å—Ç–∏

–í –ø–æ–ª–µ **"–í–Ω–µ—à–Ω–æ—Å—Ç—å"** –Ω–∞–ø–∏—à–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:

```
–í—ã—Å–æ–∫–∏–π —ç–ª—å—Ñ —Å –¥–ª–∏–Ω–Ω—ã–º–∏ —Å–µ—Ä–µ–±—Ä—è–Ω—ã–º–∏ –≤–æ–ª–æ—Å–∞–º–∏ –∏ –ø—Ä–æ–Ω–∑–∏—Ç–µ–ª—å–Ω—ã–º–∏ 
–∑–µ–ª—ë–Ω—ã–º–∏ –≥–ª–∞–∑–∞–º–∏. –ù–æ—Å–∏—Ç —ç–ª–µ–≥–∞–Ω—Ç–Ω—É—é –º–∞–Ω—Ç–∏—é —Å–∏–Ω–µ–≥–æ —Ü–≤–µ—Ç–∞ —Å 
—Å–µ—Ä–µ–±—Ä—è–Ω—ã–º–∏ —Ä—É–Ω–∞–º–∏. –ò–º–µ–µ—Ç —Ç–æ–Ω–∫–∏–µ —á–µ—Ä—Ç—ã –ª–∏—Ü–∞ –∏ –≥–æ—Ä–¥—É—é –æ—Å–∞–Ω–∫—É.
```

### 3. –ù–∞–∂–º–∏—Ç–µ "üé® –°–æ–∑–¥–∞—Ç—å –ø–æ—Ä—Ç—Ä–µ—Ç"

- –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10-30 —Å–µ–∫—É–Ω–¥
- –ü–æ—Ä—Ç—Ä–µ—Ç –ø–æ—è–≤–∏—Ç—Å—è –≤ –æ–∫–Ω–µ!

### 4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ

- **"üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å"** - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **"üîÑ –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å"** - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ—Ä—Ç—Ä–µ—Ç

---

## üì∏ –ì–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ—Ä—Ç—Ä–µ—Ç?

### 1. –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
–ë–æ–ª—å—à–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö—É —Ñ–æ—Ä–º—ã

### 2. –í –∫–∞—Ä—Ç–æ—á–∫–µ NPC –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ–µ–∫—Ç–∞
–ü—Ä–µ–≤—å—é 200x200 –ø–∏–∫—Å–µ–ª–µ–π

---

## üí° –°–æ–≤–µ—Ç—ã

### –î–ª—è –ª—É—á—à–∏—Ö –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤:

‚úÖ **–•–æ—Ä–æ—à–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:**
```
–ö—Ä–µ–ø–∫–∏–π –¥–≤–∞—Ä—Ñ —Å –≥—É—Å—Ç–æ–π —Ä—ã–∂–µ–π –±–æ—Ä–æ–¥–æ–π, –∑–∞–ø–ª–µ—Ç—ë–Ω–Ω–æ–π –≤ –∫–æ—Å—ã. 
–ù–æ—Å–∏—Ç —Ç—è–∂—ë–ª—ã–µ –ª–∞—Ç–Ω—ã–µ –¥–æ—Å–ø–µ—Ö–∏ —Å –≥—Ä–∞–≤–∏—Ä–æ–≤–∫–æ–π –∫–ª–∞–Ω–∞. 
–ì–ª–∞–∑–∞ –∫–∞—Ä–∏–µ, –ª–∏—Ü–æ –ø–æ–∫—Ä—ã—Ç–æ —à—Ä–∞–º–∞–º–∏ –æ—Ç –º–Ω–æ–≥–∏—Ö –±–∏—Ç–≤.
```

‚ùå **–ü–ª–æ—Ö–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:**
```
–î–≤–∞—Ä—Ñ
```

### –î–µ—Ç–∞–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ–∏—Ç —É–∫–∞–∑–∞—Ç—å:
- –¶–≤–µ—Ç –≤–æ–ª–æ—Å, –≥–ª–∞–∑, –∫–æ–∂–∏
- –û–¥–µ–∂–¥–∞ –∏ –¥–æ—Å–ø–µ—Ö–∏
- –û—Ä—É–∂–∏–µ
- –®—Ä–∞–º—ã, —Ç–∞—Ç—É–∏—Ä–æ–≤–∫–∏
- –í—ã—Ä–∞–∂–µ–Ω–∏–µ –ª–∏—Ü–∞
- –£–∫—Ä–∞—à–µ–Ω–∏—è

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –°—Ç–æ–∏–º–æ—Å—Ç—å
- DALL-E 3 Standard: **$0.04** –∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –ü—Ä–∏–º–µ—Ä–Ω–æ **25 –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤ –Ω–∞ $1**

### –ö–∞—á–µ—Å—Ç–≤–æ
–¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- –ú–æ–¥–µ–ª—å: `dall-e-3`
- –†–∞–∑–º–µ—Ä: `1024x1024`
- –ö–∞—á–µ—Å—Ç–≤–æ: `standard`

–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `/api/generate/npc-portrait/route.ts`

---

## üé® –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ú–∞–≥
```
–ò–º—è: –≠–ª—å–¥—Ä–∏–Ω –ó–≤–µ–∑–¥–æ—á—ë—Ç
–†–∞—Å–∞: High Elf
–ö–ª–∞—Å—Å: Wizard
–í–Ω–µ—à–Ω–æ—Å—Ç—å: –°—Ç–∞—Ä—ã–π —ç–ª—å—Ñ —Å –¥–ª–∏–Ω–Ω—ã–º–∏ —Å–µ–¥—ã–º–∏ –≤–æ–ª–æ—Å–∞–º–∏ –∏ —Å–≤–µ—Ç—è—â–∏–º–∏—Å—è 
–≥–æ–ª—É–±—ã–º–∏ –≥–ª–∞–∑–∞–º–∏. –ù–æ—Å–∏—Ç –º–∞–Ω—Ç–∏—é —Ü–≤–µ—Ç–∞ –Ω–æ—á–Ω–æ–≥–æ –Ω–µ–±–∞, —É–∫—Ä–∞—à–µ–Ω–Ω—É—é 
—Å–µ—Ä–µ–±—Ä—è–Ω—ã–º–∏ –∑–≤—ë–∑–¥–∞–º–∏. –í —Ä—É–∫–∞—Ö –¥–µ—Ä–∂–∏—Ç –¥—Ä–µ–≤–Ω–∏–π –ø–æ—Å–æ—Ö —Å –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–º.

[üé® –°–æ–∑–¥–∞—Ç—å –ø–æ—Ä—Ç—Ä–µ—Ç] ‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç—Ä–µ—Ç –≤–æ–ª—à–µ–±–Ω–∏–∫–∞!
```

### –ü—Ä–∏–º–µ—Ä 2: –í–æ–∏–Ω
```
–ò–º—è: –¢–æ—Ä–∏–Ω –ñ–µ–ª–µ–∑–Ω–æ–±–æ—Ä–æ–¥
–†–∞—Å–∞: Dwarf
–ö–ª–∞—Å—Å: Fighter
–í–Ω–µ—à–Ω–æ—Å—Ç—å: –ö–æ—Ä–µ–Ω–∞—Å—Ç—ã–π –¥–≤–∞—Ä—Ñ —Å –º–∞—Å—Å–∏–≤–Ω—ã–º–∏ –ø–ª–µ—á–∞–º–∏. –†—ã–∂–∞—è –±–æ—Ä–æ–¥–∞ 
–∑–∞–ø–ª–µ—Ç–µ–Ω–∞ –≤ –±–æ–µ–≤—ã–µ –∫–æ—Å—ã. –ù–∞ –ª–∏—Ü–µ —à—Ä–∞–º —á–µ—Ä–µ–∑ –ø—Ä–∞–≤—ã–π –≥–ª–∞–∑. –û–¥–µ—Ç –≤ 
–ø–æ—Ç—ë—Ä—Ç—ã–µ –ª–∞—Ç—ã —Å –≥–µ—Ä–±–æ–º –∫–ª–∞–Ω–∞ –Ω–∞ –Ω–∞–≥—Ä—É–¥–Ω–∏–∫–µ.

[üé® –°–æ–∑–¥–∞—Ç—å –ø–æ—Ä—Ç—Ä–µ—Ç] ‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç—Ä–µ—Ç –≤–æ–∏–Ω–∞!
```

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ö–Ω–æ–ø–∫–∞ "üé® –°–æ–∑–¥–∞—Ç—å –ø–æ—Ä—Ç—Ä–µ—Ç" –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –ó–∞–ø–æ–ª–Ω–µ–Ω–æ –ª–∏ –∏–º—è NPC
2. –ù–∞—Å—Ç—Ä–æ–µ–Ω –ª–∏ `OPENAI_API_KEY` –≤ `.env`
3. –ï—Å—Ç—å –ª–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ OpenAI –∞–∫–∫–∞—É–Ω—Ç–µ

### –û—à–∏–±–∫–∞ "OpenAI API key not configured"

**–†–µ—à–µ–Ω–∏–µ:**
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.env`:
```env
OPENAI_API_KEY="sk-proj-..."  # –í–∞—à –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–¥–µ—Å—å
```

### –ü–æ—Ä—Ç—Ä–µ—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î
2. –û–±–Ω–æ–≤–ª—ë–Ω –ª–∏ Prisma Client (`npx prisma generate`)
3. –ü–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞:**
- `NPC_PORTRAIT_FEATURE.md` - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `MANUAL_MIGRATION.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- `CHANGELOG.md` - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–¢–µ–ø–µ—Ä—å –≤–∞—à–∏ NPC –º–æ–≥—É—Ç –∏–º–µ—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—Ä–µ—Ç—ã!**

1. ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞
2. ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ
3. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ NPC
4. ‚úÖ –ù–∞–∂–º–∏—Ç–µ "üé® –°–æ–∑–¥–∞—Ç—å –ø–æ—Ä—Ç—Ä–µ—Ç"
5. ‚úÖ –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏!

**D&D –∫–∞–º–ø–∞–Ω–∏–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª–∏ —Ç–∞–∫–∏–º–∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏!** üé®‚ú®


