# 🎨 Улучшенное отображение NPC

## Что изменилось?

### ✨ Красивые карточки NPC

Теперь информация о персонажах отображается **полностью и красиво**:

#### 📸 Портреты
- Если у NPC есть портрет, он отображается в карточке (128x128px)
- Красивая рамка с подсветкой
- Можно генерировать портреты через AI
- Можно удалять и перегенерировать портреты

#### 📊 Полная информация
**Базовая информация** (всегда видна):
- 👤 Имя
- 🧬 Раса
- ⚔️ Класс и уровень
- ⚖️ Мировоззрение  
- 📈 Характеристики (STR, DEX, CON, INT, WIS, CHA)
- 👁️ Внешность (краткая)

**Детальная информация** (раскрывается по клику):
- 💭 Личность и характер
- 📜 Предыстория
- 🎯 Мотивации

#### 🎮 Интерактивность
- Кнопка **"▼ Подробнее"** - раскрывает всю информацию
- Кнопка **"▲ Свернуть"** - сворачивает
- Плавная анимация раскрытия
- Кнопки редактирования и удаления

---

## 🖼️ Работа с портретами

### В карточке NPC
1. Открыть проект → вкладка "NPC"
2. Если есть портрет - отображается автоматически
3. Портрет находится слева от информации

### Генерация портрета
1. Нажать **"✏️ Редактировать"** на карточке NPC
2. В форме редактирования:
   - Если портрета нет: **"✨ Создать портрет"**
   - Если портрет есть: **"🔄 Перегенерировать"**
3. Подождать 5-15 секунд
4. Нажать **"💾 Сохранить"**

### Удаление портрета
1. Открыть редактирование NPC
2. Навести мышь на портрет
3. Нажать **"🗑️ Удалить"** (появится при наведении)
4. Сохранить изменения

---

## 🎨 Пример карточки

```
┌─────────────────────────────────────┐
│  ┌─────┐                             │
│  │     │  Торвальд Огнебород         │
│  │ 🖼️ │  ⚔️                         │
│  │     │  Раса: Дварф                │
│  └─────┘  Класс: Воин (ур. 5)       │
│           Мировоззрение: Lawful Good │
│                                       │
│  STR  DEX  CON  INT  WIS  CHA        │
│  16   10   15   8    12   9          │
│                                       │
│  Внешность: Седобородый дварф с...  │
│                                       │
│      ▼ Подробнее                     │
└─────────────────────────────────────┘
```

После клика "Подробнее":

```
┌─────────────────────────────────────┐
│  [Портрет и базовая информация]      │
│                                       │
│      ▲ Свернуть                      │
│  ─────────────────────────────────   │
│  💭 Личность:                        │
│  Суровый, но справедливый воин...   │
│                                       │
│  📜 Предыстория:                     │
│  Родился в горах Кузнечного хребта...│
│                                       │
│  🎯 Мотивации:                       │
│  Вернуть честь своего клана...      │
└─────────────────────────────────────┘
```

---

## 📍 Где найти

1. **Главная страница** → выбрать проект
2. **Страница проекта** → вкладка "NPC"
3. Все NPC отображаются в сетке 2 колонки
4. Клик на **"✏️"** → редактирование и управление портретом

---

## 💡 Советы

### Для лучших портретов:
- Заполните поле "Внешность" перед генерацией
- Укажите расу и класс
- Чем детальнее описание, тем лучше результат

### Организация:
- Используйте портреты для важных NPC
- Сворачивайте информацию для обзора
- Раскрывайте детали когда нужно

---

## 🚀 Быстрый старт

1. Создайте или откройте NPC
2. Нажмите "✏️ Редактировать"  
3. Заполните информацию о персонаже
4. Нажмите "✨ Создать портрет"
5. Дождитесь генерации
6. Сохраните
7. Вернитесь к списку NPC
8. Наслаждайтесь красивым отображением! 🎉

---

## ⚠️ Важно

- Генерация портретов требует API ключ OpenAI
- Стоимость: ~$0.04 за портрет
- Портреты сохраняются как URL (требуется интернет)
- Время генерации: 5-15 секунд

---

## 🎯 Возможности

✅ Отображение портрета в карточке  
✅ Полная информация о персонаже  
✅ Раскрывающиеся детали  
✅ Генерация портретов через AI  
✅ Удаление портретов  
✅ Перегенерация портретов  
✅ Красивая адаптивная верстка  
✅ Плавные анимации  

**Приятного использования!** 🎭


